import{u as k,R as n,r as l,j as t,F as j,a as e,L as C}from"./app.09040f3b.js";import{F as o,f as A,e as L,g as M}from"./index.61c39fa1.js";import{M as D}from"./ModalEdit.bd3bcb67.js";import"./index.df37137f.js";function O(u){const{data:s,setData:d,key:P,post:h,progress:T,processing:g,errors:I,reset:U}=k({nama_ruangan:null,foto_ruangan:[],preserveScroll:!0});function f(a){d("foto_ruangan",a.target.files[0]),img.src=URL.createObjectURL(a.target.files[0])}function x(a){a.preventDefault(),console.log("File data",s),h("save",s,{forceFormData:!0}),r(q=>!1)}const[b,i]=n.useState(!1),[p,w]=n.useState(null),[N,v]=n.useState(null),[y,S]=n.useState(null),[_,R]=n.useState(null),[c,r]=l.exports.useState(!1),m=l.exports.useRef(null),F=l.exports.useRef(null);return t(j,{children:[t("div",{className:"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded bg-white",children:[t("div",{className:"rounded-t mb-0 px-4 py-3 border-0",children:[e("div",{className:"flex flex-wrap",children:e("div",{className:"relative w-full px-4 max-w-full flex-grow flex-1",children:e("h3",{className:"font-semibold text-lg text-blueGray-700",children:"Kelola Ruang Seminar"})})}),e("div",{className:"flex flex-wrap",children:e("div",{className:"relative w-full px-4 max-w-full flex-grow flex-1",ref:m,children:c?e("button",{className:"bg-green-400 text-white hover:bg-green-500 object-center px-4 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear",onClick:()=>r(a=>!1),children:e(o,{icon:A})}):e("button",{className:"bg-green-400 text-white hover:bg-green-500 object-center px-4 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear",onClick:()=>r(a=>!a),children:"Tambah Ruang Seminar"})})})]}),e("div",{className:"block w-full overflow-x-auto",ref:m,children:c?e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e("div",{className:"p-6 bg-white border-b border-gray-200",children:t("form",{onSubmit:x,encType:"multipart/form-data",children:[e("input",{type:"hidden",name:"_token",value:"{{ csrf_token() }}"}),t("div",{className:"mb-4",children:[t("label",{className:"text-xl text-gray-600",htmlFor:"nama_ruangan",children:["Nama Ruangan",e("span",{className:"text-red-500",children:"*"})]}),e("br",{}),e("input",{type:"text",id:"nama_ruangan",name:"nama_ruangan",className:"border-2 border-gray-300 p-2 w-full",onChange:a=>d("nama_ruangan",a.target.value)})]}),t("div",{children:[e("label",{className:"text-xl text-gray-600",children:"Foto Ruangan"}),e("div",{className:"mb-4 mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:t("div",{className:"space-y-1 text-center",children:[e("div",{className:"text-sm text-gray-600",children:t("label",{htmlFor:"foto_ruangan",className:"cursor-pointer bg-indigo-600 rounded-md font-medium text-white hover:text-gray-200 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[e("span",{children:"Upload a file"}),e("input",{type:"file",id:"foto_ruangan",onChange:f,className:"sr-only"})]})}),e("p",{className:"text-xs",children:"PDF maksimal 2MB"}),e("img",{src:"",id:"img",alt:"img",className:"rounded-md"})]})})]}),e("div",{className:"flex p-1",children:e("button",{type:"submit",disabled:g,className:"p-3 bg-blue-500 text-white hover:bg-blue-400",children:"Submit"})})]})})}):t("table",{className:"min-w-max w-full table-fixed",ref:F,children:[e("thead",{children:t("tr",{className:"bg-gray-200 text-gray-600 uppercase text-sm leading-normal",children:[e("th",{className:"py-3 px-5 text-center mx-auto ",children:"Foto Ruangan"}),e("th",{className:"py-3 px-5 text-center max-w-md mx-auto",children:"Nama Ruangan"}),e("th",{className:"py-3 px-5 text-center mx-auto ",children:"Actions"})]})}),e("tbody",{className:"text-gray-600 text-sm font-light",children:u.data.map(a=>t("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:[e("td",{className:"py-3 px-5 w-30 objects-center",children:e("img",{src:"/storage/img/"+a.foto_ruangan,style:{height:"120px"},alt:"foto ruangan",className:"rounded"})}),e("td",{className:"py-3 px-5 text-center ",children:e("span",{children:a.nama_ruangan})}),t("td",{className:"py-3 px-5",children:[t("button",{type:"button",className:"bg-yellow-300 text-white hover:bg-yellow-400 object-center px-4 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear",onClick:()=>{i(!0),w(a.id),v(a.kode_ruangan),S(a.nama_ruangan),R(a.foto_ruangan)},children:[a.surat_pdf,e(o,{icon:L})]}),e(D,{onClose:()=>i(!1),showModal:b,showId:p,showCode:N,showName:y,showPicture:_}),e(C,{as:"button",href:route("delete",a.id),className:"bg-red-500 text-white hover:bg-red-600 object-center px-4 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear",children:e(o,{icon:M})})]},a.id)]}))})]})})]}),e("div",{className:"mt-4"})]})}export{O as default};

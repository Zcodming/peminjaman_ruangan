import{u as D,r as s,j as n,a as e,H as S}from"./app.c5fb3a84.js";import M from"./Index.cba77d7e.js";import{a as C,d as F,i as P}from"./index.ef26bd93.js";import{I as g}from"./InputError.05987581.js";import{f as h}from"./extends.d5b9bf4e.js";import{S as O}from"./react-select.esm.2a530f57.js";import"./ApplicationLogo.946f9fd5.js";import"./Dropdown.0eacccd8.js";import"./index.df37137f.js";import"./toConsumableArray.0e2305b8.js";import"./emotion-react.browser.esm.4ac43cc2.js";function B({auth:x,ruangan:o}){const{data:l,setData:t,key:R,post:b,errors:c,reset:I}=D({nama_ruangan:o.nama_ruangan,nama_peminjam:"",nim:"",keterangan:"",tanggal_peminjaman:[],waktu_peminjaman:"",sesi:"",preserveScroll:!0}),[f,N]=s.exports.useState([{startDate:new Date,endDate:new Date,key:"selection"}]);function w(a,u){if(a>u)return!1;for(var r=a,p=[];r<u;)P(r)&&p.push(new Date(r)),r.setDate(r.getDate()+1);return p}const v=w(new Date,C(new Date,100)),[y,i]=s.exports.useState(!1),m=s.exports.useRef(null);s.exports.useEffect(()=>{document.addEventListener("click",k,!0),t("tanggal_peminjaman",h(new Date,"yyyy-MM-dd"))},[]);const k=a=>{m.current&&!m.current.contains(a.target)&&i(!1)},j=[{value:"Sesi 1",label:"Sesi 1 : 07:00 - 10:00"},{value:"Sesi 2",label:"Sesi 2 : 10:00 - 14:00"},{value:"Sesi 3",label:"Sesi 3 : 14:00 - 17:00"}],d=new Date;d.setDate(d.getDate()+13);function _(a){a.preventDefault(),b(route("pinjam.store"))}return n(M,{auth:x,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Pengajuan"}),children:[e(S,{title:"Pinjam"}),e("div",{className:"py-12",children:e("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg h-auto",children:e("div",{className:"py-12",children:e("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e("div",{className:"p-6 bg-white border-b border-gray-200",children:n("form",{onSubmit:_,encType:"multipart/form-data",action:route("pinjam.store"),children:[e("input",{type:"hidden",name:"_token",value:"{{ csrf_token() }}"}),e("div",{className:"mb-4",children:n("label",{className:"text-xl text-gray-600",htmlFor:"ruangan",children:["Ruangan yang ingin dipinjam"," ",e("b",{children:o.nama_ruangan})]})}),n("div",{className:"mb-4 flex flex-wrap -mx-3",children:[n("div",{className:"w-full md:w-1/2 px-3",children:[n("label",{className:"text-xl text-gray-600",htmlFor:"nama_peminjam",children:["Nama",e("span",{className:"text-red-500",children:"*"})]}),e("br",{}),e("input",{type:"text",id:"nama_peminjam",name:"nama_peminjam",placeholder:"Masukkan Nama Anda",className:"border-2 border-gray-300 p-2 w-full rounded",onChange:a=>t("nama_peminjam",a.target.value),required:!0}),e(g,{message:c.nama_peminjam,className:"mt-2"})]}),n("div",{className:"w-full md:w-1/2 px-3",children:[n("label",{className:"text-xl text-gray-600",htmlFor:"nim",children:["NIM",e("span",{className:"text-red-500",children:"*"})]}),e("br",{}),e("input",{type:"text",id:"nim",name:"nim",placeholder:"Masukkan NIM Anda",className:"border-2 border-gray-300 p-2 w-full rounded",onChange:a=>t("nim",a.target.value),required:!0})]})]}),n("div",{className:"mb-4",children:[n("label",{className:"text-xl text-gray-600",htmlFor:"keterangan",children:["Keterangan",e("span",{className:"text-red-500",children:"*"})]}),e("br",{}),e("input",{type:"text",id:"keterangan",name:"keterangan",placeholder:"Masukkan Tujuan Peminjaman Ruangan, dan Rekomendasi Jika Ada",className:"border-2 border-gray-300 p-2 w-full rounded",onChange:a=>t("keterangan",a.target.value),required:!0})]}),n("div",{className:"mb-4 flex flex-wrap -mx-3",children:[n("div",{className:"w-full md:w-1/2 px-3 relative",children:[e("label",{className:"text-xl text-gray-600",children:"Tanggal Peminjaman"}),e("br",{}),e("input",{value:l.tanggal_peminjaman,type:"button",readOnly:!0,className:"border-2 border-gray-300 p-2 w-full rounded",onClick:()=>i(a=>!a)}),e("div",{ref:m,children:y&&e(F.DateRange,{className:"relative border-2 border-blue-400 rounded",minDate:new Date,maxDate:d,disabledDates:v,weekStartsOn:0,ranges:f,months:1,direction:"horizontal",onChange:a=>{N([a.selection]),t("tanggal_peminjaman",h(a.selection.startDate,"yyyy-MM-dd")),i(!1)}})})]}),n("div",{className:"relative w-full md:w-1/2 px-3",children:[e("label",{className:"text-xl text-gray-600",htmlFor:"waktu_peminjaman",children:"Waktu Peminjaman"}),e("div",{children:e(O,{className:"basic-single",classNamePrefix:"select",name:"waktu",options:j,onChange:a=>{t("waktu_peminjaman",a.value)},required:!0})}),e(g,{message:c.sesi,className:"mt-2"})]})]}),e("div",{className:"h-36"}),e("div",{className:"flex p-1",children:e("button",{type:"submit",className:"p-3 bg-blue-500 text-white hover:bg-blue-400 rounded",onClick:a=>t("sesi",`${l.nama_ruangan},${l.tanggal_peminjaman},${l.waktu_peminjaman}`),children:"Submit"})})]})})})})})})})})]})}export{B as default};

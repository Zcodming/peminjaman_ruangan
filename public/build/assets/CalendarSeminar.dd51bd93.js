import{R as t,r as n,a as s,F as b,j as M}from"./app.09040f3b.js";import{m as A,C as N,M as y,h as R}from"./ModalEvent.8c6cc4dd.js";import"./toConsumableArray.0e2305b8.js";import"./extends.d5b9bf4e.js";import"./inheritsLoose.06539100.js";import"./index.df37137f.js";import"./index.61c39fa1.js";import"./index.2c61398d.js";function $(u){const[l,o]=t.useState(!1),[i,c]=t.useState(null),[p,w]=t.useState(null),[d,h]=t.useState(null),[S,j]=t.useState(null);t.useState(null);const[k,g]=t.useState(null),_=A(R),{views:v}=n.exports.useMemo(()=>({views:{month:!0}}),[]),[f,C]=n.exports.useState([]),x="/api/event2",E=async()=>{fetch(x).then(e=>e.json()).then(e=>{C(e.data)})};n.exports.useEffect(()=>{E()},[]);let a="#40BF46";const r=f.filter(e=>e.title.includes(u.room)).map(e=>(e.waktu_peminjaman=="Sesi 1"?a="#40BF46":e.waktu_peminjaman=="Sesi 2"?a="#ECDF37":a="#E89F2C",{title:e.title+" - "+e.waktu_peminjaman,start:e.start,end:e.end,nama_peminjam:e.nama_peminjam,waktu_peminjaman:e.waktu_peminjaman,keterangan:e.keterangan,backgroundColor:a}));function F(e,m){return e.waktu_peminjaman<m.waktu_peminjaman?-1:e.waktu_peminjaman>m.waktu_peminjaman?1:0}return console.log("data",r),s(b,{children:M("div",{className:"bg-white overflow-hidden shadow-sm rounded-b-lg",children:[s(N,{selectable:!0,showAllEvents:!0,popup:!0,localizer:_,events:r.sort(F),onSelectEvent:e=>{o(e.title),c(e.id),w(e.nama_peminjam),h(e.keterangan),j(e.start),g(e.waktu_peminjaman)},views:v,startAccessor:"start",timeslots:1,endAccessor:"end",className:"text-sm",style:{height:600,margin:"20px"},eventPropGetter:e=>({style:{backgroundColor:e.backgroundColor}})}),s(y,{onClose:()=>o(!1),showModal:l,showId:i,showName:p,showKet:d,showStart:S,showSesi:k})]})})}export{$ as default};
